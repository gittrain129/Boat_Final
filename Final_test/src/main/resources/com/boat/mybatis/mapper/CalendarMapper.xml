<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.boat.mybatis.mapper.CalendarMapper">
  
  <select id="getEvents" resultType="Calendar">
  	select * 	from BOAT_CALENDAR 
  <!--  -->
		  <where>
		    <if test="dept != null">
			  dept = #{DEPT}
		    </if>
		  </where>
		  
  </select>
  
  <insert id="calInsert">
	   insert into boat_calendar (
	  	 SCHEDULE_CODE , EVENT_NAME, START_DATE, END_DATE, 
	   	ALLDAY, DEPT, COLOR
	   	)
	   values
	    (cal_seq.nextval,#{EVENT_NAME},
		 #{START_DATE},#{END_DATE},#{ALLDAY},#{DEPT},#{COLOR}) 
  </insert>
  
  <select id="getEventsByDept" resultType="Calendar">
  SELECT * FROM boat_calendar WHERE DEPT = #{DEPT}
  </select>
  
  <select id="getAllEvents" resultType="Calendar">
  SELECT * FROM boat_calendar
  </select>
		  
  </mapper>