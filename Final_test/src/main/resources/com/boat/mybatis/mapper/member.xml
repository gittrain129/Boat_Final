<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.boat.mybatis.mapper.member">

	<select id="naverConnectionCheck" resultType="java.util.Map">
		SELECT * FROM MEMBERS WHERE EMAIL = #{email}
	</select>

	<select id="userNaverLoginPro" resultType="java.util.Map">
		SELECT * FROM MEMBER WHERE EMAIL = #{email} AND NAVERLOGIN = #{id}
	</select>

	<update id="setNaverConnection">
		UPDATE MEMBER SET NAVERLOGIN = #{id} WHERE EMAIL = #{email}
	</update>

	<!-- 사원번호 생성하기 위해 조회 -->
	<select id="isEmpno" resultType="member">
		SELECT * FROM MEMBER(
			SELECT * FROM MEMBER
			WHERE EMPNO = #{selectempno}
			ORDER BY REGISTER_DATE DESC)
		WHERE ROWNUM = 1
	</select>

</mapper>